(this["webpackJsonpreact-simulated-server-spa"]=this["webpackJsonpreact-simulated-server-spa"]||[]).push([[1],{12:function(e,t,a){"use strict";var n=a(13),r=a(7),s=a(8);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var c=new(function(){function e(){Object(r.a)(this,e),this.sort="+date",this.emailAddress=void 0,this.restDelay=100,this.load()}return Object(s.a)(e,[{key:"load",value:function(){try{Object.assign(this,o({},JSON.parse(sessionStorage.getItem("appConfig"))))}catch(e){console.log()}}},{key:"save",value:function(){sessionStorage.setItem("appConfig",JSON.stringify(o({},this)))}}]),e}());t.a=c},16:function(e,t,a){"use strict";var n=a(7),r=new function e(){var t=this;Object(n.a)(this,e),this.confirm=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Are you sure?",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Yes",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"No";if("undefined"===typeof t.component)return Promise.reject(!1);var s=new Promise(function(s,l){t.component.update({message:e,details:a,confirmMsg:n,denyMsg:r},s,l)});return s},this.__registerDialogComponent=function(e){t.component=e},this.component=void 0};t.a=r},20:function(e,t,a){e.exports=a(29)},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(18),l=a.n(s),o=a(6),c=a(13),i=a(7),u=a(8),m=a(10),p=a(9),d=a(15),h=a(11),f=a(16);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).update=function(e,t,n){a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach(function(t){Object(c.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{onConfirm:t,onDeny:n,hidden:!1})),setTimeout(function(){return a.setState({active:!0})})},a.close=function(e){var t=a.state,n=t.onConfirm,r=t.onDeny;return function(){a.setState({hidden:!0,active:!1}),e?n(!0):r(!1)}},f.a.__registerDialogComponent(Object(d.a)(a)),a.state={active:!1,message:"",details:"",confirmMsg:"",denyMsg:"",onConfirm:function(){},onDeny:function(){},hidden:!0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.active,a=e.hidden,n=e.message,s=e.details,l=e.confirmMsg,o=e.denyMsg,c=(e.onConfirm,e.onDeny,r.a.createElement("div",{className:"dialog "+(t?"active":"")},r.a.createElement("div",{className:"backdrop"}),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},n?r.a.createElement("h4",null,n):null,s?r.a.createElement("div",null,s):null,r.a.createElement("div",{style:{paddingTop:"1em"}},r.a.createElement("button",{className:"btn btn-primary",onClick:this.close(!0)},l),r.a.createElement("button",{className:"btn btn-primary",onClick:this.close(!1)},o))))));return a?null:c}}]),t}(n.Component),v=(a(27),a(28),a(12)),E=new(function(){function e(){Object(i.a)(this,e),this.usernames=["myself@angular.dev","devgal@angular.dev","devguy@angular.dev"]}return Object(u.a)(e,[{key:"isAuthenticated",value:function(){return!!v.a.emailAddress}},{key:"authenticate",value:function(e,t){var a=this;return new Promise(function(n,r){var s=-1!==a.usernames.indexOf(e),l="password"===t;setTimeout(function(){s&&l?n(e):r("Invalid username or password")},800)}).then(function(e){v.a.emailAddress=e,v.a.save()})}},{key:"logout",value:function(){v.a.emailAddress=void 0,v.a.save()}}]),e}()),y={criteria:{to:function(e){return e.data&&e.data.requiresAuth}},callback:function(e){var t=e.router.stateService;if(!E.isAuthenticated())return t.target("login",void 0,{location:!1})}},O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(){a.props.onLogout()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=E.isAuthenticated(),t=v.a.emailAddress,a=r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement(o.e,{class:"active"},r.a.createElement(o.d,{to:"mymessages"},r.a.createElement("li",null,r.a.createElement("a",{role:"button"},"Messages")))),r.a.createElement(o.e,{class:"active"},r.a.createElement(o.d,{to:"contacts"},r.a.createElement("li",null,r.a.createElement("a",{role:"button"},"Contacts")))),r.a.createElement(o.e,{class:"active"},r.a.createElement(o.d,{to:"prefs"},r.a.createElement("li",null,r.a.createElement("a",{role:"button"},"Preferences")))),r.a.createElement("li",{className:"navbar-right"},r.a.createElement(o.d,{to:"home"},r.a.createElement("button",{style:{marginRight:5},className:"btn btn-primary fa fa-home"})),r.a.createElement(o.d,{to:"mymessages.compose"},r.a.createElement("button",{style:{marginRight:15},className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-envelope"})," New Message"))),r.a.createElement("li",{className:"navbar-text navbar-right logged-in-user",style:{margin:"0.5em 1.5em"}},r.a.createElement("div",null,t," ",r.a.createElement("i",{className:"fa fa-chevron-down"}),r.a.createElement("div",{className:"hoverdrop"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleLogout},"Log Out")))));return e?a:r.a.createElement("span",null)}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleLogout=function(){var e=a.props.transition;E.logout(),e.router.stateService.go("welcome",{},{reload:!0})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"navheader"},r.a.createElement(O,{onLogout:this.handleLogout})),r.a.createElement(o.f,null))}}]),t}(n.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",null,"UI-Router Sample App"),r.a.createElement("p",null,"Welcome to the sample app!"),r.a.createElement("p",null,"This is a demonstration app intended to highlight some patterns that can be used within UI-Router. These patterns should help you to to build cohesive, robust apps.  Additionally, this app uses state-vis to show the tree of states, and a transition log visualizer."),r.a.createElement("h4",null,"App Overview"),r.a.createElement("p",null,'First, start exploring the application\'s functionality at a high level by activating one of the three submodules: Messages, Contacts, or Preferences. If you are not already logged in, you will be taken to an authentication screen (the authentication is fake; the password is "password")'),r.a.createElement("div",null,r.a.createElement(o.d,{to:"mymessages"},r.a.createElement("button",{className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-envelope"}),r.a.createElement("span",null,"Messages"))),r.a.createElement(o.d,{to:"contacts"},r.a.createElement("button",{className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-users"}),r.a.createElement("span",null,"Contacts"))),r.a.createElement(o.d,{to:"prefs"},r.a.createElement("button",{className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-cogs"}),r.a.createElement("span",null,"Preferences")))),r.a.createElement("h4",null,"Patterns and Recipes"),r.a.createElement("ul",null,r.a.createElement("li",null,"Require Authentication"),r.a.createElement("li",null,"Previous State"),r.a.createElement("li",null,"Redirect Hook"),r.a.createElement("li",null,"Default Param Values")))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(){var e=a.props,t=e.username,n=e.password;a.props.onSubmit({username:t,password:n})},a.handleChangeUsername=function(e){a.props.onChangeValues({username:e.target.value,password:a.props.password})},a.handleChangePassword=function(e){a.props.onChangeValues({username:a.props.username,password:e.target.value})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.username,a=e.usernameOptions,n=e.password,s=e.error,l=e.loading;return r.a.createElement("div",{className:"login-form"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username:"),r.a.createElement("select",{className:"form-control",name:"username",id:"username",value:t,onChange:this.handleChangeUsername},r.a.createElement("option",{value:"",disabled:!0}),a.map(function(e){return r.a.createElement("option",{key:e,value:e},e)})),t?null:r.a.createElement("i",{style:{display:"block",position:"relative",bottom:"1.8em",marginLeft:"10em",height:0},className:"fa fa-arrow-left bounce-horizontal"}," Choose ")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",value:n,onChange:this.handleChangePassword}),t&&"password"!==n?r.a.createElement("i",{style:{position:"relative",bottom:"1.8em",marginLeft:"5em",height:0},className:"fa fa-arrow-left bounce-horizontal"},"Enter '",r.a.createElement("b",null,"password"),"' here"):null),s?r.a.createElement("div",{className:"well error"},s):null,r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:l,onClick:this.handleSubmit},l?r.a.createElement("i",{className:"fa fa-spin fa-spinner"}):null," ",r.a.createElement("span",null,"Log in")),t&&"password"===n?r.a.createElement("i",{style:{position:"relative"},className:"fa fa-arrow-left bounce-horizontal"}," Click Me!"):null))}}]),t}(r.a.Component),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChangeCredentials=function(e){a.setState(e)},a.handleLogin=function(e){var t=a.props,n=t.transition,r=t.returnTo;a.setState({authenticating:!0}),E.authenticate(e.username,e.password).then(function(){return n.router.stateService.go(r.state(),r.params(),{reload:!0})}).catch(function(e){var t;a.setState({authenticating:!1}),t=e,a.setState({errorMessage:t})})},a.usernames=E.usernames,a.state={username:v.a.emailAddress||"",password:"password",authenticating:!1,errorMessage:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.errorMessage,a=e.authenticating,n=e.username,s=e.password;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2"},r.a.createElement("h3",null,"Log In"),r.a.createElement("p",null,"(This login screen is for demonstration only... just pick a username, enter 'password' and click ",r.a.createElement("b",null,'"Log in"'),")"),r.a.createElement("hr",null),r.a.createElement(N,{usernameOptions:this.usernames,username:n,password:s,error:t,loading:a,onChangeValues:this.handleChangeCredentials,onSubmit:this.handleLogin})))}}]),t}(n.Component);var k=[{name:"app",redirectTo:"welcome",component:j},{parent:"app",name:"welcome",url:"/welcome",component:w},{parent:"app",name:"home",url:"/home",component:function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"home buttons"},r.a.createElement(o.d,{to:"mymessages"},r.a.createElement("button",{className:"btn btn-primary"},r.a.createElement("h1",null,r.a.createElement("i",{className:"fa fa-envelope"})),r.a.createElement("h1",null,"Messages"))),r.a.createElement(o.d,{to:"contacts"},r.a.createElement("button",{className:"btn btn-primary"},r.a.createElement("h1",null,r.a.createElement("i",{className:"fa fa-users"})),r.a.createElement("h1",null,"Contacts"))),r.a.createElement(o.d,{to:"prefs"},r.a.createElement("button",{className:"btn btn-primary"},r.a.createElement("h1",null,r.a.createElement("i",{className:"fa fa-cogs"})),r.a.createElement("h1",null,"Preferences")))))}}]),t}(n.Component)},{parent:"app",name:"login",url:"/login",component:C,resolve:[{token:"returnTo",deps:["$transition$"],resolveFn:function(e){if(e.redirectedFrom())return e.redirectedFrom().targetState();var t=e.router.stateService;if(""!==e.from().name)return t.target(e.from(),e.params("from"));return t.target("home")}}]},{parent:"app",name:"contacts.**",url:"/contacts",lazyLoad:function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,35))}},{parent:"app",name:"prefs.**",url:"/prefs",lazyLoad:function(){return a.e(6).then(a.bind(null,36))}},{parent:"app",name:"mymessages.**",url:"/mymessages",lazyLoad:function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,34))}}];a.e(7).then(a.t.bind(null,33,7)).then(function(e){return P.plugin(e.Visualizer)}),P.transitionService.onBefore(y.criteria,y.callback,{priority:10});var P=new o.c;P.plugin(o.h),P.plugin(o.g),k.forEach(function(e){return P.stateRegistry.register(e)}),P.urlService.rules.initial({state:"welcome"}),l.a.render(r.a.createElement(o.a,{router:P},r.a.createElement("div",null,r.a.createElement(o.f,null),r.a.createElement(g,null))),document.getElementById("root"))}},[[20,2,3]]]);
//# sourceMappingURL=main.4008c08b.chunk.js.map